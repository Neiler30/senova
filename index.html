<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenido a SENOVA</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Google Fonts (Poppins) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        body,
        html {
            height: 100%;
            margin: 0;
            font-family: 'Poppins', sans-serif;
        }

        .bg-gradient-custom {
            background: linear-gradient(to right, #242738, #325472);
        }

        .splash-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: white;
            text-align: center;
        }

        /* Contenedor para la animación del logo */
        .animated-logo-container {
            position: relative;
            width: 220px; /* Aumentado para un logo final más grande */
            height: 220px; /* Aumentado para un logo final más grande */
            margin-bottom: 1.5rem;
        }

        .animated-logo-container img {
            position: absolute;
            left: 0;
            top: 0; /* Aseguramos que todas las imágenes se alineen en el contenedor */
            width: 100%;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
            /* Hacemos que la animación se detenga en el estado final */
            animation-fill-mode: forwards; 
        }

        /* 0. Logo final (inicialmente invisible) */
        #final-logo {
            opacity: 0;
            transform: scale(0); /* Empieza encogido */
        }

        /* Enlace del logo final */
        #logo-link {
            pointer-events: none; /* Inicia sin ser clickeable */
            cursor: default;
            /* Animación para hacerlo clickeable y añadir cursor: inicia después de 6.2s */
            animation: make-clickable 0.1s linear 6.2s forwards;
        }
        #logo-link img {
            animation: grow-in 1.5s cubic-bezier(0.34, 1.56, 0.64, 1) 4.7s forwards;
        }


        /* 1. Animación del Engranaje */
        #engranaje {
            animation: spin-and-slide 2s ease-out forwards, glow-and-shrink 1s ease-in-out 4.5s forwards;
        }

        @keyframes spin-and-slide {
            from {
                transform: translateX(200%) rotate(0deg);
                opacity: 0;
            }
            to {
                transform: translateX(0) rotate(-360deg);
                opacity: 1;
            }
        }

        /* 2. Animación del Libro */
        #libro {
            opacity: 0; /* Empieza invisible */
            /* Animación para aparecer y luego desaparecer */
            animation: appear-in-front 1.2s ease-in-out 2s forwards, glow-and-shrink 1s ease-in-out 4.5s forwards;
        }

        @keyframes appear-in-front {
            from {
                transform: scale(0.5);
                opacity: 0;
            }
            to {
                transform: scale(0.8); /* Ligeramente más pequeño y centrado */
                opacity: 1;
            }
        }

        /* 3. Animación del Birrete */
        #birrete {
            opacity: 0; /* Empieza invisible */
            /* Animación para caer y luego desaparecer */
            animation: fall-from-top 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) 2.5s forwards, glow-and-shrink 1s ease-in-out 4.5s forwards;
        }

        @keyframes fall-from-top {
            from {
                transform: translateY(-500%); /* Cae desde más arriba */
                opacity: 0;
            }
            to {
                transform: translateY(-70%); /* Posición final ajustada */
                opacity: 1;
            }
        }

        /* Animación para que el logo final crezca */
        @keyframes grow-in {
            0% {
                transform: scale(0);
                opacity: 0;
                filter: brightness(3) blur(5px) drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
            }
            100% {
                transform: scale(1.15) translateY(-10%);
                opacity: 1;
                filter: brightness(1) blur(0) drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
            }
        }

        /* Animación para que las piezas brillen, se encojan y desaparezcan */
        @keyframes glow-and-shrink {
            100% {
                transform: scale(0);
                opacity: 0;
                visibility: hidden;
                filter: brightness(3) blur(5px);
            }
        }

        /* Animación para activar el enlace del logo */
        @keyframes make-clickable {
            to {
                pointer-events: auto;
                cursor: pointer;
            }
        }

        /* Animación de salida al hacer clic en el logo */
        @keyframes zoom-out-to-page {
            0% {
                opacity: 1;
                filter: blur(0px);
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: scale(50);
                opacity: 0;
                filter: blur(20px); /* El logo se vuelve borroso al crecer */
            }
        }

        #logo-link.zooming-out #final-logo {
            /* Aplica la animación de salida con una duración de 0.7s */
            animation: zoom-out-to-page 0.7s ease-in forwards;
        }

        .splash-title {
            font-size: 3.5rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            white-space: nowrap; /* Evita que el título se parta durante la animación */
        }

        /* Animación para las letras del título */
        .splash-title .letter {
            display: inline-block; /* Permite transformar cada letra */
            opacity: 0;
            transform: translateY(60px);
            animation: reveal-letter 0.6s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
            /* El retraso base (5.8s) + el retraso individual de cada letra */
            animation-delay: calc(5.8s + var(--delay));
        }

        @keyframes reveal-letter {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .splash-subtitle {
            font-size: 1.1rem;
            font-weight: 300;
            letter-spacing: 1px;
            margin-top: 0.5rem;
            color: rgba(255, 255, 255, 0.85);
            opacity: 0; /* Start invisible */
            animation: fade-in-up 1s ease-out forwards;
            animation-delay: 7s; /* Start after title animation */
        }

        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Clase para desvanecer el texto durante la transición de salida */
        .fading-out {
            transition: opacity 0.4s ease-out;
            opacity: 0 !important;
        }
    </style>
</head>

<body class="bg-gradient-custom">

    <div class="splash-container">
        <div class="animated-logo-container" id="logo-container">
            <img src="imgs/engranaje.png" alt="Engranaje" id="engranaje">
            <img src="imgs/libro.png" alt="Libro" id="libro">
            <img src="imgs/birrete.png" alt="Birrete" id="birrete">
            <a href="guia_de_uso.html" id="logo-link">
                <img src="imgs/logo.png" alt="SENOVA Logo" id="final-logo">
            </a>
        </div>
        <h1 class="splash-title">
            <span class="letter" style="--delay: 0.0s;">S</span>
            <span class="letter" style="--delay: 0.05s;">E</span>
            <span class="letter" style="--delay: 0.1s;">N</span>
            <span class="letter" style="--delay: 0.15s;">O</span>
            <span class="letter" style="--delay: 0.2s;">V</span>
            <span class="letter" style="--delay: 0.25s;">A</span>
        </h1>
        <p class="splash-subtitle">Sistema Escolar de Nueva Organización y Valoración Académica</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const logoLink = document.getElementById('logo-link');
            const title = document.querySelector('.splash-title');
            const subtitle = document.querySelector('.splash-subtitle');

            logoLink.addEventListener('click', function (event) {
                // 1. Prevenir la navegación inmediata
                event.preventDefault();

                // Desvanecer el título y subtítulo
                if (title) title.classList.add('fading-out');
                if (subtitle) subtitle.classList.add('fading-out');

                // 2. Añadir la clase para iniciar la animación de zoom
                this.classList.add('zooming-out');

                // 3. Esperar 700ms (la duración de la animación) y luego navegar
                setTimeout(() => {
                    window.location.href = this.href;
                }, 700);
            });
        });
    </script>
</body>

</html>